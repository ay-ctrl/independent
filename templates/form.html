<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bağımsız</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='header.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='form.css') }}"
    />
  </head>
  <body>
    {% include 'header.html' %}

    <main>
      <div class="form-container">
        <h1>Bağımlılık Testi</h1>
        <p>
          Aşağıdaki kısa formu doldurarak, hangi maddelere karşı risk
          taşıdığınızı öğrenin ve bağımlılığın hayatınızı etkilemeden önce önlem
          alın. Unutmayın, bağımlılık kronik bir hastalık olabilir, en güvenli
          yol hiç bağlanmamaktır.
        </p>

        <form id="wizardForm" method="POST">
          <!-- Adım 1: Age -->
          <div class="form-step active">
            <label for="age">Yaş:</label>
            <select name="age" id="age" required>
              <option value="">Seçiniz</option>
              <option value="18-24">18-24</option>
              <option value="25-34">25-34</option>
              <option value="35-44">35-44</option>
              <option value="45-54">45-54</option>
              <option value="55-64">55-64</option>
              <option value="65+">65+</option>
            </select>
            <button type="button" class="next-btn">İleri</button>
          </div>

          <!-- Adım 2: Gender -->
          <div class="form-step">
            <label for="gender">Cinsiyet:</label>
            <select name="gender" id="gender" required>
              <option value="">Seçiniz</option>
              <option value="Female">Kadın</option>
              <option value="Male">Erkek</option>
            </select>
            <button type="button" class="prev-btn">Geri</button>
            <button type="button" class="next-btn">İleri</button>
          </div>

          <!-- Adım 3: Education -->
          <div class="form-step">
            <label for="education">Eğitim:</label>
            <select name="education" id="education" required>
              <option value="">Seçiniz</option>
              <option value="Left school before 16">
                16'dan önce okul bırakıldı
              </option>
              <option value="Left school at 16">
                16 yaşında okul bırakıldı
              </option>
              <option value="Left school at 17">
                17 yaşında okul bırakıldı
              </option>
              <option value="Left school at 18">
                18 yaşında okul bırakıldı
              </option>
              <option value="Some college/university, no degree">
                Üniversite, diploma yok
              </option>
              <option value="Professional certificate/diploma">
                Mesleki sertifika/diploma
              </option>
              <option value="University degree">Üniversite diploması</option>
              <option value="Masters degree">Yüksek lisans</option>
              <option value="Doctorate degree">Doktora</option>
            </select>
            <button type="button" class="prev-btn">Geri</button>
            <button type="button" class="next-btn">İleri</button>
          </div>

          <!-- Adım 4: Country -->
          <div class="form-step">
            <label for="country">Ülke:</label>
            <select name="country" id="country" required>
              <option value="">Seçiniz</option>
              <option value="Australia">Avustralya</option>
              <option value="Canada">Kanada</option>
              <option value="New Zealand">Yeni Zelanda</option>
              <option value="Other">Diğer</option>
              <option value="Republic of Ireland">İrlanda</option>
              <option value="UK">İngiltere</option>
              <option value="USA">ABD</option>
            </select>
            <button type="button" class="prev-btn">Geri</button>
            <button type="button" class="next-btn">İleri</button>
          </div>

          <!-- Adım 5: Ethnicity -->
          <div class="form-step">
            <label for="ethnicity">Etnik Köken:</label>
            <select name="ethnicity" id="ethnicity" required>
              <option value="">Seçiniz</option>
              <option value="Asian">Asyalı</option>
              <option value="Black">Siyah</option>
              <option value="Mixed-Black/Asian">Karma (Siyah/Asyalı)</option>
              <option value="Mixed-White/Asian">Karma (Beyaz/Asyalı)</option>
              <option value="Mixed-White/Black">Karma (Beyaz/Siyah)</option>
              <option value="Other">Diğer</option>
              <option value="White">Beyaz</option>
            </select>
            <button type="button" class="prev-btn">Geri</button>
            <button type="button" class="next-btn">İleri</button>
          </div>

          <!-- Adım 6: Neuroticism -->
          <div class="form-step">
            <h3>Neuroticism (Nörotiklik)</h3>
            <p>Duygusal dalgalanmalar, kaygı ve stres eğilimi.</p>
            <div>
              {% for i in range(1,8) %}
              <label
                ><input type="radio" name="nscore" value="{{ i }}" required />
                {{ i }}</label
              >
              {% endfor %}
            </div>
            <button type="button" class="prev-btn">Geri</button>
            <button type="button" class="next-btn">İleri</button>
          </div>

          <!-- Adım 7: Extraversion -->
          <div class="form-step">
            <h3>Extraversion (Dışadönüklük)</h3>
            <p>Sosyallik, enerjik olma ve dışa dönüklük düzeyi.</p>
            <div>
              {% for i in range(1,8) %}
              <label
                ><input type="radio" name="escore" value="{{ i }}" required />
                {{ i }}</label
              >
              {% endfor %}
            </div>
            <button type="button" class="prev-btn">Geri</button>
            <button type="button" class="next-btn">İleri</button>
          </div>

          <!-- Adım 8: Openness -->
          <div class="form-step">
            <h3>Openness (Açıklık)</h3>
            <p>Yeniliklere, sanata ve farklı fikirlere açıklık.</p>
            <div>
              {% for i in range(1,8) %}
              <label
                ><input type="radio" name="oscore" value="{{ i }}" required />
                {{ i }}</label
              >
              {% endfor %}
            </div>
            <button type="button" class="prev-btn">Geri</button>
            <button type="button" class="next-btn">İleri</button>
          </div>

          <!-- Adım 9: Agreeableness -->
          <div class="form-step">
            <h3>Agreeableness (Uyumluluk)</h3>
            <p>Empati, yardımseverlik ve iş birliği düzeyi.</p>
            <div>
              {% for i in range(1,8) %}
              <label
                ><input type="radio" name="ascore" value="{{ i }}" required />
                {{ i }}</label
              >
              {% endfor %}
            </div>
            <button type="button" class="prev-btn">Geri</button>
            <button type="button" class="next-btn">İleri</button>
          </div>

          <!-- Adım 10: Conscientiousness -->
          <div class="form-step">
            <h3>Conscientiousness (Sorumluluk)</h3>
            <p>Düzenlilik, planlılık ve öz disiplin.</p>
            <div>
              {% for i in range(1,8) %}
              <label
                ><input type="radio" name="cscore" value="{{ i }}" required />
                {{ i }}</label
              >
              {% endfor %}
            </div>
            <button type="button" class="prev-btn">Geri</button>
            <button type="button" class="next-btn">İleri</button>
          </div>

          <!-- Adım 11: Impulsiveness -->
          <div class="form-step">
            <h3>Impulsiveness (Dürtüsellik)</h3>
            <p>Kontrolsüz karar verme ve ani tepkilere yatkınlık.</p>
            <div>
              {% for i in range(1,8) %}
              <label
                ><input
                  type="radio"
                  name="impulsive"
                  value="{{ i }}"
                  required
                />
                {{ i }}</label
              >
              {% endfor %}
            </div>
            <button type="button" class="prev-btn">Geri</button>
            <button type="button" class="next-btn">İleri</button>
          </div>

          <!-- Adım 12: Sensation Seeking -->
          <div class="form-step">
            <h3>Sensation Seeking (Heyecan Arayışı)</h3>
            <p>Yeni deneyimlere ve risk almaya eğilim.</p>
            <div>
              {% for i in range(1,8) %}
              <label
                ><input type="radio" name="ss" value="{{ i }}" required /> {{ i
                }}</label
              >
              {% endfor %}
            </div>
            <button type="button" class="prev-btn">Geri</button>
            <button type="submit">Gönder</button>
          </div>
        </form>
      </div>
    </main>

    {% include 'footer.html' %}

    <script>
      const steps = document.querySelectorAll(".form-step");
      const nextBtns = document.querySelectorAll(".next-btn");
      const prevBtns = document.querySelectorAll(".prev-btn");
      let currentStep = 0;

      nextBtns.forEach((btn) => {
        btn.addEventListener("click", () => {
          const inputs = steps[currentStep].querySelectorAll("select, input");
          for (let input of inputs) {
            if (!input.checkValidity()) return;
          }
          steps[currentStep].classList.remove("active");
          currentStep++;
          steps[currentStep].classList.add("active");
        });
      });

      prevBtns.forEach((btn) => {
        btn.addEventListener("click", () => {
          steps[currentStep].classList.remove("active");
          currentStep--;
          steps[currentStep].classList.add("active");
        });
      });
    </script>
  </body>
</html>
